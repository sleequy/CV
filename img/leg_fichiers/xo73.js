// Dailymotion Player Embed v-0.0.3089-rc1
// This file is generated dynamically, do not host it yourself
'use strict';var _dmpesplayer=function(){function w(c){"@babel/helpers - typeof";w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return w(c)}function ma(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function");}function na(c,b){for(var a=0;a<b.length;a++){var d=b[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}function oa(c,b,a){b&&na(c.prototype,b);a&&na(c,a);return c}function T(c,b,a){b in c?Object.defineProperty(c,b,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[b]=a;return c}function pa(c,b){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(c);b&&(d=d.filter(function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable}));a.push.apply(a,d)}return a}function x(c){for(var b=1;b<arguments.length;b++){var a=
null!=arguments[b]?arguments[b]:{};b%2?pa(Object(a),!0).forEach(function(d){T(c,d,a[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(a)):pa(Object(a)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(a,d))})}return c}function H(c,b){var a=Array.isArray(c)?c:void 0;if(!a)if("undefined"!==typeof Symbol&&Symbol.iterator in Object(c)){a=[];var d=!0,e=!1,g=void 0;try{for(var f=c[Symbol.iterator](),h;!(d=(h=f.next()).done)&&(a.push(h.value),
!b||a.length!==b);d=!0);}catch(m){e=!0,g=m}finally{try{if(!d&&null!=f["return"])f["return"]()}finally{if(e)throw g;}}}else a=void 0;if(!(c=a||qa(c,b)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return c}function ra(c){var b=Array.isArray(c)?U(c):void 0;b||(b="undefined"!==typeof Symbol&&Symbol.iterator in Object(c)?Array.from(c):void 0);if(!(c=b||qa(c)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return c}function qa(c,b){if(c){if("string"===typeof c)return U(c,b);var a=Object.prototype.toString.call(c).slice(8,-1);"Object"===a&&c.constructor&&(a=c.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return U(c,b)}}function U(c,b){if(null==b||b>c.length)b=c.length;for(var a=0,d=Array(b);a<b;a++)d[a]=c[a];return d}function kb(){var c=null,b=new Promise(function(d){c=setTimeout(function(){k.log("3rd party cookie",
"Received detection timeout");d()},2E3)}),a=new Promise(function(d){var e=document.createElement("script");e.src="".concat("https://geo.dailymotion.com","/cookie.js");e.onload=function(){k.log("3rd party cookie","Script loaded");clearTimeout(c);return d()};e.onerror=function(){k.log("3rd party cookie","Script error");clearTimeout(c);return d()};document.head.appendChild(e)});return Promise.race([a,b])}var q={"udger":{"browserOsFamily":"Windows","browserOsName":"Windows 10","browserUaFamily":"Firefox","browserUaName":"Firefox 102.0","browserUaVersion":102,"deviceType":"desktop"},"geoip":{"visitorAsNumber":"AS12322","visitorCity":"","visitorContinent":"EU","visitorCountry":"FR","visitorRegion":null},"playerEnv":"prod","playerGatekeepers":["PV5_ADSENSE_DISPLAY_PREROLL","PV5_AD_BUFFET","PV5_AD_COOKIE_SYNC","PV5_AUDIO_ADS_POC","PV5_CONSENT","PV5_COOKIE_SYNC_AB_TEST","PV5_DISABLE_COMSCORE_GDPR","PV5_DISABLE_CUSTOM_TRACKING_URLS","PV5_DISABLE_XITI","PV5_ENABLE_IMA_OMSDK","PV5_ENRICHED_SPINNER_UI","PV5_EVENTBUS_COMPRESSION_DISABLE","PV5_FULL_HEIGHT_AD_SLOT","PV5_IAS_100","PV5_IAS_INAPP","PV5_IAS_SAMPLING","PV5_IGNORE_EARLY_LOAD_MIDROLL","PV5_IMA_INSTANCE","PV5_IMA_ONSITE_ENABLE","PV5_IMA_OVERLAY","PV5_IMA_REQUEST_TIMEOUT","PV5_LIVE_MIDROLL_DISABLED","PV5_METADATA_RETRY_POLICY","PV5_MOAT_30","PV5_MULTI_FALLBACK","PV5_OMSDK","PV5_OMSDK_NATIVE","PV5_PES_PIP_CLS","PV5_PHOTON","PV5_PHOTON_ONSITE","PV5_PHOTON_UNMUTE_CTA","PV5_PROXY_LOAD_POSTROLL","PV5_SAVE_VAST_RECORD","PV5_TEMP_AD_SLOT_HEIGHT","PV5_TEMP_IMA_PAGEURL","PV5_TEMP_IMA_PAGEURL_OFFSITE","PV5_TEMP_VMAPNOJSONP","PV5_VERTICAL_ADS","PV5_WATCHTOWER","PV5_WHITEOPS_INSIDE_PLAYER"],"trafficSegment":671929,"v1st":"ECEDA37E836863236A9E0B252F2407F3","player":{"id":"xo73","ownerId":"x1b31qp","aspectRatio":"16:9","autoskipAfter":30,"autostart":"on","color":"","enableAds":true,"enableAdsControls":true,"enableAutoNext":true,"enableAutoskip":false,"enableChannelLink":true,"enableDMLogo":false,"enableHeaderDetectionOverlap":false,"enableInfo":true,"enablePlaybackControls":true,"enableQueue":true,"enableSharing":false,"enableSharingUrlLocation":false,"enableStartPipExpanded":false,"enableStartscreenDMLink":false,"enableTitlesInVideoCards":true,"enableVideoTitleLink":true,"status":"ok","pip":"instant","watermarkImageType":"none","watermarkImageUrl":"","watermarkLinkType":"none","watermarkLinkUrl":""}},sa={SMALL_BREAKPOINT:480,MEDIUM_BREAKPOINT:1800,LARGE_BREAKPOINT:2160},
ta={ON:"on",OFF:"off",FIRST_TIME:"firstTimeViewable"},y={ON:"on",OFF:"off",INSTANT:"instant"},V={ENABLED:"enabled",DISABLED:"disabled",CLOSED:"closed"},W={FOR_SMALL_VIEWPORT:"small",FOR_LARGE_VIEWPORT:"large"},ua={FULLSCREEN:"fullscreen",INLINE:"inline",NATIVE_PIP:"nativePip",PIP:"pip"},X={inherit:"","16:9":"56.25%","4:3":"75%","1:1":"100%","3:4":"133.3%","9:16":"177.7%"},z={ALL:"all",PUBLIC:{AD_CLICK:"ad_click",AD_COMPANIONSREADY:"ad_companions",AD_DURATIONCHANGE:"ad_durationchange",AD_END:"ad_end",
AD_ERROR:"ad_error",AD_IMPRESSION:"ad_impression",AD_LOADED:"ad_loaded",AD_PAUSE:"ad_pause",AD_PLAY:"ad_play",AD_START:"ad_start",AD_TIMECHANGE:"ad_timeupdate",PLAYER_ASPECTRATIOCHANGE:"pes_aspectratiochange",PLAYER_CRITICALPATHREADY:"playback_ready",PLAYER_END:"end",PLAYER_ERROR:"error",PLAYER_HEAVYADSINTERVENTION:"player_heavyadsintervention",PLAYER_PIPEXPANDEDCHANGE:"pes_pipexpandedchange",PLAYER_PLAYBACKPERMISSION:"playback_resolution",PLAYER_PLAYBACKSPEEDCHANGE:"playbackspeedchange",PLAYER_PRESENTATIONMODECHANGE:"pes_presentationmodechange",
PLAYER_SCALEMODECHANGE:"pes_scalemodechange",PLAYER_START:"start",PLAYER_VIDEOCHANGE:"videochange",PLAYER_VIDEOLISTCHANGE:"videolistchange",PLAYER_VIEWABILITYCHANGE:"pes_viewabilitychange",PLAYER_VOLUMECHANGE:"volumechange",VIDEO_BUFFERING:"waiting",VIDEO_DURATIONCHANGE:"video_durationchange",VIDEO_END:"video_end",VIDEO_PAUSE:"pause",VIDEO_PLAY:"play",VIDEO_PLAYING:"playing",VIDEO_PROGRESS:"progress",VIDEO_QUALITIESREADY:"qualitiesavailable",VIDEO_QUALITYCHANGE:"qualitychange",VIDEO_SEEKEND:"seeked",
VIDEO_SEEKSTART:"seeking",VIDEO_START:"video_start",VIDEO_SUBTITLESCHANGE:"subtitlechange",VIDEO_SUBTITLESREADY:"subtitlesavailable",VIDEO_TIMECHANGE:"timeupdate"},PRIVATE:{BACK_TO_INLINE_DISPLAY_REQUESTED:"pes_pip_back_to_inline_display_requested",CLOSE_PIP_REQUESTED:"pes_pip_close_requested",COLLAPSE_PIP_REQUESTED:"pes_pip_collapse_requested",EXPAND_PIP_REQUESTED:"pes_pip_expand_requested",PLAYER_APIREADY:"apiready",PLAYER_CROSSICONCLICK:"crossiconclick",PLAYER_FULLSCREENCHANGE:"fullscreenchange",
PLAYER_NATIVEPIPCHANGE:"presentationmodechange",PLAYER_STATE:"playerstate",WRITE_UID:"pes_write_uid"}},Y={CUSTOMCONFIG:"set-ads-config",FULLSCREEN:"fullscreen",INIT_PIP_IFRAME_CHUNK:"initPesPipChunk",LOAD:"load",LOOP:"loop",MUTED:"muted",NOTIFY_PIP_CHANGED:"notifyPesPipChanged",PAUSE:"pause",PLAY:"play",QUALITY:"quality",SCALE:"scaleMode",SEEK:"seek",SPEED:"speed",STATE:"playerstate",SUBTITLES:"subtitle",UPDATE_PARAMS:"updatePesParams",VIEWPORT_RESIZE:"notifyPesViewportSizeChanged",VOLUME:"volume"},
Z=[{key:"id",isExposed:!0,isTrackable:!0},{key:"ownerId",isExposed:!1,isTrackable:!1},{key:"aspectRatio",isExposed:!0,isTrackable:!0},{key:"autoskipAfter",isExposed:!1,isTrackable:!0},{key:"autostart",isExposed:!0,isTrackable:!0},{key:"color",isExposed:!0,isTrackable:!0},{key:"enableAds",isExposed:!1,isTrackable:!0},{key:"enableAdsControls",isExposed:!0,isTrackable:!0},{key:"enableAutoNext",isExposed:!0,isTrackable:!0},{key:"enableAutoskip",isExposed:!1,isTrackable:!0},{key:"enableChannelLink",isExposed:!0,
isTrackable:!0},{key:"enableDMLogo",isExposed:!0,isTrackable:!0},{key:"enableHeaderDetectionOverlap",isExposed:!1,isTrackable:!1},{key:"enableInfo",isExposed:!0,isTrackable:!0},{key:"enablePlaybackControls",isExposed:!0,isTrackable:!0},{key:"enableQueue",isExposed:!0,isTrackable:!0},{key:"enableSharing",isExposed:!0,isTrackable:!0},{key:"enableSharingUrlLocation",isExposed:!0,isTrackable:!0},{key:"enableStartPipExpanded",isExposed:!0,isTrackable:!0},{key:"enableStartscreenDMLink",isExposed:!0,isTrackable:!0},
{key:"enableTitlesInVideoCards",isExposed:!0,isTrackable:!0},{key:"enableVideoTitleLink",isExposed:!0,isTrackable:!0},{key:"pip",isExposed:!0,isTrackable:!0},{key:"watermarkImageType",isExposed:!0,isTrackable:!0},{key:"watermarkImageUrl",isExposed:!0,isTrackable:!1},{key:"watermarkLinkType",isExposed:!0,isTrackable:!0},{key:"watermarkLinkUrl",isExposed:!0,isTrackable:!1}],va=function(c){return new Promise(function(b,a){var d=c.getAttribute("load-status");"loaded"===d?b():"error"===d?a():(c.addEventListener("load",
function(){c.setAttribute("load-status","loaded");b()}),c.addEventListener("error",function(){c.setAttribute("load-status","error");a()}))})},wa=!1,xa=window.location.href.match(/dmPesLogger=[-+,_a-zA-Z0-9]+/);if(null!==xa){var lb=xa[0].split("="),mb=H(lb,2)[1];wa=!["0","false",0,!1,void 0,null].includes(mb)}var k={log:function(c){if(wa){for(var b,a=arguments.length,d=Array(1<a?a-1:0),e=1;e<a;e++)d[e-1]=arguments[e];a=["%cPES%c".concat(c),"".concat("border-radius: 2px; padding: 1px 3px; margin: 0 1px; color: white;",
"; background: purple"),"".concat("border-radius: 2px; padding: 1px 3px; margin: 0 1px; color: white;","; background: #ae27ae")].concat(d);(b=console).log.apply(b,ra(a))}}},nb=function(c){var b=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.settings;return void 0!==b[c]?Promise.resolve(b[c]):window.fetch("".concat("https://geo.dailymotion.com","/player/").concat(c,".json"),{method:"GET"}).then(function(a){return a.json()}).then(function(a){ya(a);k.log("Player settings",a);return a})["catch"](function(a){console.error("Settings fetch error: ",
a)})},pb=function(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b&&"object"===w(b)&&Object.keys(b).forEach(function(a){Z.map(function(d){return d.key}).includes(a)&&ob()&&(c[a]=b[a],c.hasOverride=!0)});return c},ya=function(c){"not_found"===c.status?console.warn("".concat("The player configuration ID has not been found"," : ").concat(c.id)):("deleted"===c.status&&console.warn("".concat("The player configuration ID has been deleted"," : ").concat(c.id)),window.dailymotion._do_not_use_6ffa9a1a8e661094e008.settings[c.id?
c.id:"default"]=c)},za=function(c){return"string"===typeof c?qb(c):c},qb=function(c){var b={};c.split("&").forEach(function(a){a=a.split("=");var d=H(a,2);a=d[0];d=d[1];if(a&&d){var e=a.match(/([a-zA-Z0-9]+)\[([a-zA-Z0-9]+)\]/);"true"===d?b[a]=!0:"false"===d?b[a]=!1:d.match(/^[0-9]+$/)?b[a]=a.match(/color$/i)?d:parseInt(d):e?b[e[1]]=x({},b[e[1]],T({},e[2],decodeURIComponent(d))):b[a]=decodeURIComponent(d)}});return b},ob=function(){var c=window.location.hostname;return c.endsWith(".dailymotion.com")||
c.endsWith(".kube.dm.gg")},I=function(){var c=[],b=new window.Uint16Array(32);window.crypto.getRandomValues(b);b.forEach(function(a){return c.push("000".concat(a.toString(16)).slice(-4))});return"".concat(c[0]).concat(c[1],"-").concat(c[2],"-").concat(c[3],"-").concat(c[4],"-").concat(c[5]).concat(c[6]).concat(c[7])},Aa=function(c,b,a,d){c.addEventListener(b,a,d);return function(){c.removeEventListener(b,a,d)}},aa=function(c,b){if(c._do_not_use_6ffa9a1a8e661094e008.iframe.contentWindow){for(var a=
arguments.length,d=Array(2<a?a-2:0),e=2;e<a;e++)d[e-2]=arguments[e];c._do_not_use_6ffa9a1a8e661094e008.iframe.contentWindow.postMessage(JSON.stringify({command:b,parameters:d}),"https://geo.dailymotion.com")}},J=function(c,b){window.postMessage(JSON.stringify(x({event:c},b)),window.origin)},K=function(c,b,a){return Ba(c,b,a)},Ca=function(c,b){return Ba(null,c,b)},Ba=function(c,b,a){return Aa(window,"message",function(d){var e=d.origin;d=d.data;if((e===window.origin||"https://geo.dailymotion.com"===
e)&&d&&"string"===typeof d)try{var g=JSON.parse(d);b!==z.ALL&&b!==g.event||null!==c&&c._do_not_use_6ffa9a1a8e661094e008.id!==g.id||a(g)}catch(f){}})},Da=z.PUBLIC,rb=Da.PLAYER_ASPECTRATIOCHANGE,sb=Da.PLAYER_SCALEMODECHANGE,Ea=X["16:9"],tb={FIT:"fit",FILL:"fill",FILL_LEFT:"fillLeft",FILL_RIGHT:"fillRight",FILL_TOP:"fillTop",FILL_BOTTOM:"fillBottom"}.fit,Fa=function(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ea,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d="inherit"===
b?"100%":"",e="inherit"===b?"100%":"",g=Object.prototype.hasOwnProperty.call(X,b)?X[b]:Ea;Object.assign(c._do_not_use_6ffa9a1a8e661094e008.rootNode.style,{background:"#000",height:d,paddingBottom:g,position:"relative",width:e});Object.assign(c._do_not_use_6ffa9a1a8e661094e008.iframe,{height:"100%",width:"100%"});c._do_not_use_6ffa9a1a8e661094e008.stateFromPES.playerAspectRatio=b;a.withPesEvent&&J(rb,{id:c._do_not_use_6ffa9a1a8e661094e008.id,aspectRatio:b})},Ga=function(c){var b=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:tb,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c._do_not_use_6ffa9a1a8e661094e008.stateFromPES.playerScaleMode=b;a.withPesEvent&&J(sb,{id:c._do_not_use_6ffa9a1a8e661094e008.id,scaleMode:b})},Ha=function(c,b){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:31536E6;a=["".concat(c,"=").concat(b),"path=/","max-age=".concat(a),"samesite=lax","secure"];document.cookie=a.join(";")},ba=function(c){var b=window.document.cookie.split(";").map(function(a){return a.trim()}).find(function(a){return a.startsWith(c)});
return(null===b||void 0===b?void 0:b.split("=")[1])||""},Ia=new RegExp(/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/),ca=null,ub=function(){var c=ba("uid_dm");return null===c||void 0===c?void 0:c.match(Ia)},vb=V.ENABLED,wb=V.DISABLED,xb=ua.INLINE,yb=W.FOR_SMALL_VIEWPORT,zb=W.FOR_LARGE_VIEWPORT,Ja=z.PUBLIC,Ab=Ja.PLAYER_VIDEOCHANGE,Ka=Ja.PLAYER_VIEWABILITYCHANGE,La=z.PRIVATE,Bb=La.PLAYER_APIREADY,Cb=La.WRITE_UID,Ma=!1,Na=!1,Oa=!1,da=!1,ea=!1,Hb=function(){function c(b,a,d,e,g,f,h,m){var l=
this;ma(this,c);this._do_not_use_6ffa9a1a8e661094e008={anchor:g,settings:f,id:b,iframe:e,index:d,initialized:!1,observer:h,viewportResizeListener:null,rootNode:a,stateFromPES:{playerAspectRatio:null,playerIsViewable:null,playerPip:null,playerPipDisplay:"".concat(window.innerWidth<=sa.SMALL_BREAKPOINT?yb:zb,"Viewport"),playerPipIsExpanded:!1,playerPipStatus:f.pip===y.OFF?wb:vb,playerPresentationMode:xb,playerScaleMode:null}};h.init(f,e);da=m;Fa(this,f.aspectRatio);Ga(this,f.scaleMode);if(!ub())var n=
K(this,Cb,function(){var p;!1!==(null===(p=q.player)||void 0===p?void 0:p.enableAds)&&Ha("uid_dm",ca,33696E3);n()});Ma=new Promise(function(p){var t=K(l,Bb,function(){l._do_not_use_6ffa9a1a8e661094e008.iframe.removeAttribute("name");t();p()})});Na=new Promise(function(p,t){window._dmDynamicImportPolyfill("pes.player-interface.aae3b045.js").then(function(){return window.dailymotion._do_not_use_6ffa9a1a8e661094e008.api(l)}).then(p)["catch"](function(u){return t(u)})});Oa=new Promise(function(p,t){f.pip!==
y.OFF?(window.dailymotion._do_not_use_6ffa9a1a8e661094e008.playerSelectedForPip?console.warn("[".concat(f.id,"] ").concat("PIP is already enabled with another configuration")):window.dailymotion._do_not_use_6ffa9a1a8e661094e008.playerSelectedForPip=l,window._dmDynamicImportPolyfill("pes.pip.e8426069.js").then(p)["catch"](function(u){return t(u)})):p()})}oa(c,[{key:"initialize",value:function(){var b=this,a=this._do_not_use_6ffa9a1a8e661094e008,d=a.settings,e=d.autostart,g=d.pip,f=a.id,h=a.observer,
m=a.rootNode;a.initialized||(h.earlyObserve(m),this._do_not_use_6ffa9a1a8e661094e008.initialized=Promise.all([Oa,Ma,Na]).then(function(){h.unobserve(m);b.on(Ab,function(){da&&!ea&&(h.unobserve(m),h.observe(m));ea=!0});g!==y.OFF&&(window.dailymotion._do_not_use_6ffa9a1a8e661094e008.playerSelectedForPip===b&&window.dailymotion.pipResume(),aa(b,Y.INIT_PIP_IFRAME_CHUNK));Db();e===ta.FIRST_TIME&&Eb(b);Fb(b)}).then(function(){k.log("Player","".concat(f," fully initialized"));h.observe(m);return b}));return this._do_not_use_6ffa9a1a8e661094e008.initialized}},
{key:"destroy",value:function(){var b=this._do_not_use_6ffa9a1a8e661094e008,a=b.anchor,d=b.id,e=b.rootNode,g=b.removeAllListeners;b.observer.unobserve(e);g();Gb(this);e.parentNode.replaceChild(a,e);this===window.dailymotion._do_not_use_6ffa9a1a8e661094e008.playerSelectedForPip&&(window.dailymotion.pipClose(),window.dailymotion._do_not_use_6ffa9a1a8e661094e008.playerSelectedForPip=null);window.removeEventListener("resize",this._do_not_use_6ffa9a1a8e661094e008.viewportResizeListener);delete window.dailymotion._do_not_use_6ffa9a1a8e661094e008.players[d]}},
{key:"isEligibleForPipDisplay",value:function(b){var a=this._do_not_use_6ffa9a1a8e661094e008.settings.pip;return a===y.OFF?{status:!1,reason:"PIP is OFF"}:da&&!ea?{status:!1,reason:"empty embed without videochange event"}:b?{status:!0,reason:"PIP is ON and was viewable at least once"}:{status:a===y.INSTANT,reason:a===y.INSTANT?"PIP is INSTANT":"was not viewable at least once"}}}]);return c}(),Eb=function(c){var b=K(c,Ka,function(a){var d=a.viewable;a=a.wasViewableAtLeastOnce;c&&(d||c.isEligibleForPipDisplay(a).status)&&
(b(),c.play())})},Fb=function(c){c._do_not_use_6ffa9a1a8e661094e008.viewportResizeListener=function(){aa(c,Y.VIEWPORT_RESIZE,{width:window.innerWidth,height:window.innerHeight})};window.addEventListener("resize",c._do_not_use_6ffa9a1a8e661094e008.viewportResizeListener)},Db=function(){Ca(Ka,function(c){var b=c.viewable;if(c=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.players[c.id])c._do_not_use_6ffa9a1a8e661094e008.stateFromPES.playerIsViewable=b})},Gb=function(c){var b=function(a){console.warn("Invalid call to player.".concat(a,
"() : player ").concat(c._do_not_use_6ffa9a1a8e661094e008.id," has been destroyed"))};Object.keys(c).forEach(function(a){"function"===typeof c[a]&&(c[a]=function(){b(a)})});Object.getOwnPropertyNames(Object.getPrototypeOf(c)).forEach(function(a){"constructor"!==a&&"function"===typeof c[a]&&(c[a]=function(){b(a)})})},fa=function(c){var b;return null===q||void 0===q?void 0:null===(b=q.playerGatekeepers)||void 0===b?void 0:b.includes(c)},Ib=function(c){try{for(;c;){var b=window.getComputedStyle(c).getPropertyValue("position").toLowerCase();
if("fixed"===b||"sticky"===b)return c;c=c.parentNode instanceof HTMLElement&&"BODY"!==c.tagName?c.parentNode:null}return null}catch(a){return null}},Jb=function(c,b,a,d){if(!0===b)return k.log("Observer","No header overlapping ! Reason: IO isVisible is true"),{status:!1,marginTop:null};var e=c.getBoundingClientRect();c=e.x;var g=e.y,f=e.width;e=e.height;if(0<=g)return k.log("Observer","Overlapping detection canceled ! Reason : Player is not about to pass above the fold, y:".concat(g)),{status:!1,
marginTop:null};d=document.elementFromPoint(c+Math.round(.5*f),g+Math.round(e*(1-d)));if(!d)return k.log("Observer","No header overlapping ! Reason: No overlapping element"),{status:!1,marginTop:null};if(a.isSameNode(d))return k.log("Observer","No header overlapping ! Reason: Overlapping element is the same as the player iframe"),{status:!1,marginTop:null};a=Ib(d);if(!a)return k.log("Observer",'No header overlapping ! Reason: Overlapping element or ancestors are not in "fixed" position'),{status:!1,
marginTop:null};var h=a.getBoundingClientRect(),m=h.x,l=h.y,n=h.width;h=h.height;k.log("Observer","Overlapping header detection data :\n        - IO isVisible : ".concat(b,"\n        - targetX : ").concat(c,"\n        - targetY : ").concat(g,"\n        - targetWidth : ").concat(f,"\n        - targetHeight : ").concat(e,"\n        - fixedElementX : ").concat(m,"\n        - fixedElementY: ").concat(l,"\n        - fixedElementWidth: ").concat(n,"\n        - fixedElementHeight: ").concat(h,"\n        - fixed element:"),
a,"\n        - overlapping element:",d);if(0!==l)return k.log("Observer","No header overlapping ! Reason: Overlapping element Y position is not 0"),{status:!1,marginTop:null};if(!(m<=c&&n>=f))return k.log("Observer","No header overlapping ! Reason: Overlapping element is not fully covering the player width"),{status:!1,marginTop:null};k.log("Observer","Fixed header is overlapping player iframe");return{status:!0,marginTop:h}},Pa=function(c){return c.enableHeaderDetectionOverlap||fa("PV5_PES_HEADER_OVERLAP_DETECTION")},
Qa=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Kb=function(){function c(){ma(this,c);this.uiActionOrigin=this.intersectionObserver=null;this.earlyObserverMode=this.wasViewableAtLeastOnce=!1;this.playerIframe=this.playerSettings=null;this.hasCompletedHeaderDetection=!1;"function"===typeof window.IntersectionObserver&&(this.intersectionObserver=new window.IntersectionObserver(this.intersectionObserverCallback.bind(this),{threshold:Qa}))}oa(c,[{key:"init",value:function(b,a){this.playerSettings=b;this.playerIframe=
a;k.log("Observer","Observer initialized ".concat(Pa(this.playerSettings)?"with":"without"," header detection"))}},{key:"intersectionObserverCallback",value:function(b){var a=this;b.forEach(function(d){var e=d.target,g=d.isVisible;if((d=.5<=d.intersectionRatio)&&Pa(a.playerSettings)&&!a.hasCompletedHeaderDetection&&0>=e.getBoundingClientRect().y){g=Jb(e,g,a.playerIframe,.5);var f=g.marginTop;g.status&&(a.hasCompletedHeaderDetection=!0,d=!1,a.intersectionObserver.disconnect(),a.intersectionObserver=
null,k.log("Observer","Defining new observer with root marginTop",f),a.intersectionObserver=new window.IntersectionObserver(a.intersectionObserverCallback.bind(a),{rootMargin:"-".concat(f,"px 0px 0px 0px"),threshold:Qa}),a.intersectionObserver.observe(e))}d&&!a.wasViewableAtLeastOnce&&(k.log("Observer","Player iframe was viewable at least once"),a.wasViewableAtLeastOnce=!0);a.earlyObserverMode||J(z.PUBLIC.PLAYER_VIEWABILITYCHANGE,x({id:e.id,viewable:d,wasViewableAtLeastOnce:a.wasViewableAtLeastOnce},
a.uiActionOrigin?{uiActionOrigin:a.uiActionOrigin}:{}));a.uiActionOrigin=null})}},{key:"observe",value:function(b){var a;null===(a=this.intersectionObserver)||void 0===a?void 0:a.observe(b)}},{key:"earlyObserve",value:function(b){var a;k.log("Observer","Early intersection observer has started");this.earlyObserverMode=!0;null===(a=this.intersectionObserver)||void 0===a?void 0:a.observe(b)}},{key:"unobserve",value:function(b){var a;this.earlyObserverMode=!1;null===(a=this.intersectionObserver)||void 0===
a?void 0:a.unobserve(b)}},{key:"disconnect",value:function(){var b;null===(b=this.intersectionObserver)||void 0===b?void 0:b.disconnect()}},{key:"setUIActionOrigin",value:function(b){this.uiActionOrigin=b}}]);return c}(),Ra=!1,Lb=new RegExp(/[A-F0-9]{32}/),B=null,Sa=function(){var c=window.navigator.connection;return c&&c.effectiveType?c.effectiveType:null},Ta=function a(b){var d={};Object.keys(b).forEach(function(e){var g=b[e];if(void 0!==g&&null!==g&&""!==g){if(null===g)var f=!1;else"object"!==
w(g)?f=!1:(f=Object.getPrototypeOf(g),f=f===Object.prototype||null===f);d[e]=f?a(g):g}});return d},C=q.udger,Ua=C.browserOsFamily,Va=C.browserOsName,Wa=C.browserUaFamily,Xa=C.browserUaName,Mb=C.browserUaVersion,Ya=C.deviceType,E=q.geoip,Za=E.visitorAsNumber,Nb=E.visitorCity,$a=E.visitorContinent,ab=E.visitorCountry,bb=E.visitorRegion,r=q.player,Ob=q.playerEnv,ha=q.trafficSegment,Pb=function(b,a){var d={};r&&Z.filter(function(e){return e.isTrackable}).forEach(function(e){e=e.key;d[e]=r[e]});b={name:"life_cycle.embedStart",
version:"1.0",data:{context:{visitor_group:Math.ceil(ha/1E4)},created_ts:Date.now(),empty_player:a,info:{browser:{effective_connection_type:Sa(),os_family:Ua,os_name:Va,ua_family:Wa,ua_name:Xa,ua_version:Mb,user_agent:window.navigator.userAgent},device:{type:Ya,width:window.innerWidth,height:window.innerHeight},player:{config:d,embedder:document.location.href,embedder_hostname:document.location.hostname,env:Ob,secure:!0,version:"v-0.0.3089-rc1"},visitor:{as_number:Za,continent:$a,country:ab,onsite:!1,
referer:document.referer,region:bb,timezone_offset:-6E4*(new Date).getTimezoneOffset(),traffic_segment:ha}},settings:{embed_index:b,pubtool:"pes"}}};b={channel:"player",edward:"1.1",sent_ts:Date.now(),events:[Ta(b)],stack_ctx:{player_stack:"noworker"}};window.fetch("https://pebed.dm-event.net",{method:"POST",body:JSON.stringify(b)})},cb=function(b){var a=b.name,d=b.emptyPlayer,e=b.pesUUID,g=b.pesIframeIndex;if(fa("PV5_WATCHTOWER")){b=Date.now();d={name:a,version:"1.0",data:{created_ts:b,info:{browser:{effective_connection_type:Sa(),
os_family:Ua,os_name:Va,ua_family:Wa,ua_name:Xa,user_agent:window.navigator.userAgent},delta_with_previous_vital:window.dailymotion._do_not_use_6ffa9a1a8e661094e008.pesLastEventTs?b-window.dailymotion._do_not_use_6ffa9a1a8e661094e008.pesLastEventTs:null,device:{type:Ya,height:window.screen.height,width:window.screen.width},player:{embedder:document.location.href,embedder_hostname:document.location.hostname,pes_uuid:e,pes_iframe_index:g,is_empty:d,pubtool:"pes",version:"v-0.0.3089-rc1",settings:{aspectRatio:r.aspectRatio,
autostart:r.autostart,color:r.color,enableAutoNext:r.enableAutoNext,enableControls:r.enableControls,enableDMLogo:r.enableDMLogo,enableInfo:r.enableInfo,enableQueue:r.enableQueue,enableSharing:r.enableSharing,id:r.id,pip:r.pip}},viewport:{height:window.innerHeight,width:window.innerWidth},view:{is_active_tab:"visible"===window.document.visibilityState},visitor:{as_number:Za,city:Nb,continent:$a,country:ab,id:B,onsite:!1,referer:document.referer,region:bb,timezone_offset:-6E4*(new Date).getTimezoneOffset(),
traffic_segment:ha}}}};window.dailymotion._do_not_use_6ffa9a1a8e661094e008.pesLastEventTs=b;var f={channel:"player",edward:"1.1",events:[Ta(d)],sent_ts:Date.now()};window.fetch("https://pebed.dm-event.net",{method:"POST",body:JSON.stringify(f),headers:{"content-type":"text/plain; charset=UTF-8"}}).then(function(h){200===h.status?k.log("Watchtower",a,"sent",f.events[0]):k.error("Watchtower",a,"failed",h.status,f.events[0])})["catch"](function(h){k.error("Watchtower",a,"failed",h.message,f.events[0])})}},
ia="xbzwps xbzwyj xkb83k x5xhrd x2k4l07 xgphb5 x2k4kr6 x2k4l64 x1fv3qc x1uzrwn".split(" ").includes(q.player.ownerId),Qb=Date.now(),db=null,Rb=new Promise(function(b){ia&&(db=setTimeout(function(){k.log("Liveramp","Received postMessage timeout");b()},300))}),Sb=new Promise(function(b){if(ia){window.addEventListener("message",function(a){if((a=a.data)&&"ats-modules-liveramp-envelope-result"===a.message)try{var d=Date.now()-Qb;if(300<d)b(null);else if(k.log("Liveramp","Received envelope response"),
"string"===typeof a.result){var e=JSON.parse(a.result).envelope;k.log("Liveramp","Received envelope : ".concat(e," (").concat(d,"ms)"));clearTimeout(db);b(e)}}catch(g){k.log("Liveramp","Envelope decoding failed : ".concat(g)),b(null)}});try{k.log("Liveramp","Dispatch envelope request"),window.top.postMessage("ats-modules-liveramp-envelope-request","*")}catch(a){k.log("Liveramp","Envelope request failed : ".concat(a)),b(null)}}}),gb={create:function(b,a,d){var e=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:{},g=e.video,f=e.playlist,h=e.player,m=e.params,l=e.settings,n=e.referrerPolicy;if(!document.body||!document.body.contains(b))return console.warn("The player anchor must be added in the body element"),Promise.resolve();var p=g&&g.match(/^[kx][a-zA-Z0-9]+$/)?g:null,t=f&&f.match(/^[kx][a-zA-Z0-9]+$/)?f:null,u=b.id||"dailymotion-instance-".concat(I()),L=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.iframeIndex++,M=null===p&&null===t,F=new Kb,A=za(m),D=za(l),v="pes".concat((null===
A||void 0===A?0:A.dmPubtool)?"-".concat(A.dmPubtool):"");return nb(h).then(function(N){N=pb(N,D);var ja=Tb(p,t,h,A,n),ka=Ub(u,h),eb=Vb(),fb=new Hb(u,ka,a,ja,b,N,F,M);window.dailymotion._do_not_use_6ffa9a1a8e661094e008.players[u]=fb;cb({name:"vitals_pes_iframe_start",emptyPlayer:M,pesUUID:d,pesIframeIndex:L});return Wb(u,a,d,L,v,N).then(function(Xb){ja.name=encodeURIComponent(Xb);ka.appendChild(eb);eb.appendChild(ja);b.parentNode.replaceChild(ka,b);return fb})})}},Tb=function(b,a,d){var e=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{},g=4<arguments.length?arguments[4]:void 0,f=document.createElement("iframe"),h="default"!==d?"/player/".concat(d,".html"):"/player.html",m=x({},b&&{video:b},{},a&&{playlist:a});Object.keys(e).filter(function(n){return!m[n]}).forEach(function(n){e[n]&&"object"===w(e[n])?Object.keys(e[n]).forEach(function(p){m["".concat(n,"[").concat(p,"]")]=encodeURIComponent(e[n][p])}):m[n]=encodeURIComponent(e[n])});var l=window.location.href.match(/dmDevBackendEnv=[-_a-zA-Z0-9]+/);
null!==l&&(l=l[0].split("="),l=H(l,2)[1],m.dmDevBackendEnv=l);l=Object.keys(m).map(function(n){return"".concat(n,"=").concat(m[n])}).join("&");Object.assign(f,x({allow:"autoplay; fullscreen; picture-in-picture",allowFullscreen:!0,className:"dailymotion-player",frameBorder:0},g&&{referrerPolicy:g},{src:"".concat("https://geo.dailymotion.com").concat(h,"?").concat(l)}));return f},Wb=function(b,a,d,e,g,f){var h=q.trafficSegment,m=q.playerGatekeepers,l=window,n=l.origin,p={width:l.innerWidth,height:l.innerHeight},
t=f.hasOverride?f:void 0,u=f.enableSharingUrlLocation?window.location.href:void 0,L=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.pesLastEventTs;f=Promise;l=f.all;var M=ia?Promise.race([Sb,Rb]):Promise.resolve();return l.call(f,[M,kb()]).then(function(F){F=H(F,1)[0];void 0!==w(window.dmCookie3rdPartyAllowed)&&(Ra=window.dmCookie3rdPartyAllowed,delete window.dmCookie3rdPartyAllowed);var A=Ra,D=ba("v1st_dm");A?(k.log("Config","Got v1st from backend, 3rd party cookie allowed"),B=q.v1st):(null===
D||void 0===D?0:D.match(Lb))?(k.log("Config",'Got v1st from 1st party cookie "v1st_dm"'),B=D):(k.log("Config",'Got v1st from backend, v1st_dm created because 3rd party cookie not allowed and 1st party cookie "v1st_dm" does not exist'),B=q.v1st,Ha("v1st_dm",B,604800));var v;!1!==(null===(v=q.player)||void 0===v?void 0:v.enableAds)&&(v=ba("uid_dm"),ca=(null===v||void 0===v?0:v.match(Ia))?v:I());return JSON.stringify({dmInternalData:{embedIndex:a,pesUUID:d,pesIframeIndex:e,pesLastEventTs:L,forcedSettings:t,
iframeId:b,initialViewportSize:p,gatekeepers:m,liverampEnvelope:F,pubtool:g,sharingUrlLocation:u,targetOrigin:n,ts:h,uid:ca,v1st:B}})})},Ub=function(b,a){var d=document.createElement("div");d.id=b;d.classList.add("dailymotion-player-root");d.classList.add("dailymotion-player-".concat(a));return d},Vb=function(){var b=document.createElement("div");b.className="dailymotion-player-wrapper";Object.assign(b.style,{height:"100%",overflow:"hidden",position:"absolute",width:"100%",margin:"0.00001px",bottom:"0.00001px",
left:"0.00001px",right:"0.00001px",top:"0.00001px"});return b},G=function(){console.warn("PIP is disabled in the configuration")},Yb={events:z.PUBLIC,createPlayer:function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=window.dailymotion._do_not_use_6ffa9a1a8e661094e008,e=d.settings,g=d.embedScriptIndex;d=d.pesUUID;var f=document.querySelector("#".concat(b));if(!f)return Promise.reject(Error("".concat("DOM element ID not found"," : #").concat(b)));if(f.classList.contains("dailymotion-player-wrapper"))return Promise.reject(Error("".concat("A player instance is already attached to this DOM element",
" : #").concat(b)));if(a&&"object"!==w(a))return Promise.reject(Error("Player options invalid, please use an object"));a.player||(1===Object.keys(e).length?a.player=Object.keys(e)[0]:(1<Object.keys(e).length&&console.warn("Several player configurations are imported, please specify a player configuration ID"),a.player="default"));return gb.create(f,g,d,a).then(function(h){return h.initialize()})},getAllPlayers:function(){var b=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.players,a=[];if(0===
Object.keys(b).length)return Error("No player found in the page");Object.values(b).forEach(function(d){return a.push(d.initialize())});return a},getPlayer:function(b){var a=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.players,d=a[b];return 0===Object.keys(a).length?Promise.reject(Error("No player found in the page")):void 0===b?1<Object.keys(a).length?Promise.reject(Error("There are multiple players in the page, please specify an ID")):Object.values(a)[0].initialize():void 0===d?Promise.reject(Error("".concat("Player ID not found",
" : #").concat(b))):d.initialize()},pipClose:G,pipCollapse:G,pipExpand:G,pipRepaint:G,pipResume:G,_do_not_use_6ffa9a1a8e661094e008:{api:null,embedScriptIndex:1,iframeIndex:1,pesUUID:null,players:{},playerSelectedForPip:null,screenId:I(),settings:{}}},la;window._dmDynamicImportPolyfill=function(b){var a="pes-".concat(b),d=document.querySelector('script[id="'.concat(a,'"]'));if(d)return va(d);d=document.createElement("script");d.src="".concat("https://static1.dmcdn.net/playerv5","/").concat(b);d.id=
a;b=va(d);document.body.appendChild(d);return b};var O=q.player,P=document.currentScript,Q=P.dataset,hb=Q.video,ib=Q.playlist,Zb=Q.params,$b=Q.settings,ac=P.referrerPolicy,bc=P.src,R=0,jb=!hb&&!ib;if(null===(la=window.dailymotion)||void 0===la||!la.createPlayer)if(window.dailymotion=x({},window.dailymotion,{},Yb),"function"===typeof window.dailymotion.onScriptLoaded)window.dailymotion.onScriptLoaded();var S=I();window.dailymotion._do_not_use_6ffa9a1a8e661094e008.pesUUID=S;k.log("PES UUID",S);if(!O)throw Error("Backend settings not set");
var cc=O.id||"default";"not_found"!==O.status&&ya(O);(new URL(bc)).pathname.startsWith("/libs")?k.log("Library script loaded"):(R=window.dailymotion._do_not_use_6ffa9a1a8e661094e008.embedScriptIndex++,k.log("Embed script loaded","Index ".concat(R)),Pb(R,jb),gb.create(P,R,S,{video:hb,playlist:ib,player:cc,params:Zb,settings:$b,referrerPolicy:ac}).then(function(b){return b.initialize()}));cb({name:"vitals_pes_enter",emptyPlayer:jb,pesUUID:S});return{A:ta,C:Y,E:z,M:2147483647,P:ua,S:Z,V:sa,_:ra,a:K,
b:Ga,c:J,d:x,e:T,f:y,g:W,h:Aa,i:fa,j:V,k:Ca,l:k,s:aa,u:Fa}}()
// pv5template